<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <title>产品列表</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/swiper-3.4.2.min.css">
    <!--需要修改引入对应的css-->
    <link rel="stylesheet" href="../css/productList.css">
    <!--需要修改引入对应的css-->
</head>
<body>
<!--产品列表-->
<div class="product">
    <div class="produceHead" id="header">
        <ul class="swiper-wrapper scareList">
            <li class="swiper-slide">精选精选精选精选</li>
            <li class="swiper-slide">面部</li>
            <li class="swiper-slide">头部</li>
            <li class="swiper-slide">身体</li>
            <li class="swiper-slide">仪器</li>
            <li class="swiper-slide">美白</li>
            <li class="swiper-slide">大保健</li>
            <li class="swiper-slide">身体身体身体身体</li>
        </ul>
        <div id="top-line"></div>
    </div>
    <!--文章-->
    <ul class="personArticle" id="dataList">
       <!-- <li class="userShow">
            <div class="userHeader">
                <div class="userImg">
                    <img src="../images/userImg01.png" alt="">
                </div>
                <p class="userMessage">
                    那样最年华
                </p>
                <p class="userText">
                    美容达人
                </p>
                <div class="follow">
                        <span class="followImg">
                            <img src="../images/btn_one_n@2x.png" alt="">
                        </span>
                    <span class="fllowTest">关注</span>
                </div>
            </div>
            <div class="userTitle">
                最爱手作—滴胶与木头标题就一行超过就标题就一行超过就
            </div>
            <div class="userText clearfix">
                <p class="userTextLeft">
                    为你我用了半年的积蓄，漂洋过海的来看你记忆总是慢慢慢慢的堆积在脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也
                </p>
                <div class="userPro userProShow">
                    <span class="iconCom iconLink"></span>
                    <span class="userProName">
                        泰妍雅集套装
                    </span>
                </div>

                <div class="view viewP">
                    <img src="../images/icon_browse@2x.png" alt="">
                    <span class="viewNum">
                        2.16万
                    </span>
                </div>

                <div class="userTextRight">
                    <span class="imgNum">3张图片</span>
                </div>

            </div>



            <div class="bigPhotoShow" style="display: none">
                <div class="swiper-container" id="swiper0">
                    <ul class="swiper-wrapper">
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto01.jpg" alt="">
                            </a>
                        </li>
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto02.jpg" alt="">
                            </a>
                        </li>
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto03.jpg" alt="">
                            </a>
                        </li>
                    </ul>
                </div>
            </div>



        </li>
        <li class="userShow">
            <div class="userHeader">
                <div class="userImg">
                    <img src="../images/userImg01.png" alt="">
                </div>
                <p class="userMessage">
                    那样最年华
                </p>
                <p class="userText">
                    美容达人
                </p>
                <div class="follow">
                        <span class="followImg">
                            <img src="../images/btn_one_n@2x.png" alt="">
                        </span>
                    <span class="fllowTest">关注</span>
                </div>
            </div>
            <div class="userTitle">
                最爱手作—滴胶与木头标题就一行超过就标题就一行超过就
            </div>
            <div class="userText clearfix">
                <p class="userTextLeft">
                    为你我用了半年的积蓄，漂洋过海的来看你记忆总是慢慢慢慢的堆积在脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也
                </p>
                <div class="userPro userProShow">
                    <span class="iconCom iconLink"></span>
                    <span class="userProName">
                        泰妍雅集套装
                    </span>
                </div>

                <div class="view viewP">
                    <img src="../images/icon_browse@2x.png" alt="">
                    <span class="viewNum">
                        2.16万
                    </span>
                </div>

                <div class="userTextRight">
                    <span class="imgNum">3张图片</span>
                </div>

            </div>



            <div class="bigPhotoShow" style="display: none">
                <div class="swiper-container" id="swiper1">
                    <ul class="swiper-wrapper">
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto01.jpg" alt="">
                            </a>
                        </li>
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto02.jpg" alt="">
                            </a>
                        </li>
                        <li class="swiper-slide">
                            <a href="javascript:;">
                                <img src="../images/articlePhoto03.jpg" alt="">
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </li>-->
    </ul>
    <!--bigPhotoShow-->
    <!--<div class="bigPhotoShow" id="bigPhoto" style="display: none">
        <div class="swiper06 swiper-container">
            <ul class="swiper-wrapper">
                <li class="swiper-slide">
                    <a href="javascript:;">
                        <img src="../images/articlePhoto01.jpg" alt="">
                    </a>
                </li>
                <li class="swiper-slide">
                    <a href="javascript:;">
                        <img src="../images/articlePhoto02.jpg" alt="">
                    </a>
                </li>
                <li class="swiper-slide">
                    <a href="javascript:;">
                        <img src="../images/articlePhoto03.jpg" alt="">
                    </a>
                </li>
            </ul>
        </div>
    </div>-->
</div>

<!--loading图-->
<div class="loadingImg" style="display: none">
    <img src="../images/刷新1.png" alt="">
    每一天美一点～
</div>


<script type="text/javascript" src="../js/rem.js"></script>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/swiper-3.4.2.jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        var mySwiper1 = new Swiper('#header',{
            freeMode : true,
            slidesPerView : 'auto',
        });

        tabNav();
        function tabNav() {
            $('.scareList>li:eq(0)').addClass('activeShowItem')
            $('.scareList>li').click(function () {
                $(this).addClass('activeShowItem').siblings().removeClass('activeShowItem')

            })
        }


        console.log($('.personArticle>li').length);
        var len = $('.personArticle>li').length
       var len =2;
        var listDom=document.getElementById("dataList");
        for(var i=0;i<len;i++){
            console.log(i)
            var swiperName = 'swiper'+ i;
            console.log(swiperName)
            var str =' <div class="userHeader">'+
                    '<div class="userImg">'+
                    '<img src="../images/userImg01.png" alt="">'+
                    '</div>'+
                    '<p class="userMessage">那样最年华 </p>'+
                    '<p class="userText">美容达人 </p>'+
                    '<div class="follow">'+
                    '<span class="followImg"><img src="../images/btn_one_n@2x.png" alt=""></span>'+
                    '<span class="fllowTest">关注</span>'+
                    '</div>'+
                    '</div>';
            str += '<div class="userTitle">最爱手作—滴胶与木头标题就一行超过就标题就一行超过就 </div>';
            str += '<div class="userText clearfix"><p class="userTextLeft">为你我用了半年的积蓄，漂洋过海的来看你记忆总是慢慢慢慢的堆积在脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也脑海里，也曾相互偎倚,也</p>'+
                    '<div class="userPro userProShow"> <span class="iconCom iconLink"></span><span class="userProName">泰妍雅集套装</span></div><div class="view viewP"> <img src="../images/icon_browse@2x.png" alt=""> <span class="viewNum">2.16万 </span></div>'+
                    '<div class="userTextRight"><span class="imgNum">3张图片</span></div></div>';
            str += '<div class="bigPhotoShow" style="display: none">'+
                    '<div class="swiper-container" id="'+swiperName+'">'+
                    '<ul class="swiper-wrapper">'+
                    '<li class="swiper-slide"><a href="javascript:;"><img src="../images/articlePhoto01.jpg" alt=""></a></li>'+
                    '<li class="swiper-slide"><a href="javascript:;"><img src="../images/articlePhoto02.jpg" alt=""></a></li>'+
                    '<li class="swiper-slide"><a href="javascript:;"><img src="../images/articlePhoto03.jpg" alt=""></a></li>'+
                    '</ul>'+
                    '</div>'+
                    '</div>';
            var liDom=document.createElement("li");
            liDom.innerHTML=str;
            listDom.appendChild(liDom);
          /*  var swiperClass = '#swiper'+ i;
            console.log(swiperClass)*/
        }






        $('#dataList').children().addClass('userShow')



        for(var i=0;i<len;i++){
              var swiperId = '#swiper'+ i;
             console.log(swiperId)
            var mySwiper = new Swiper(swiperId, {
                direction: 'horizontal',
                initialSlide :1,
                observer:true,//修改swiper自己或子元素时，自动初始化swiper
                observeParents:true,//修改swiper的父元素时，自动初始化swiper
            })
        }
       /* var mySwiper = new Swiper('#swiper0', {
            direction: 'horizontal',
            initialSlide :1,
            observer:true,//修改swiper自己或子元素时，自动初始化swiper
            observeParents:true,//修改swiper的父元素时，自动初始化swiper
        })
        var mySwiper = new Swiper('#swiper1', {
            direction: 'horizontal',
            initialSlide :1,
            observer:true,//修改swiper自己或子元素时，自动初始化swiper
            observeParents:true,//修改swiper的父元素时，自动初始化swiper
        })*/




        //        阻止移动端默认行为
        function handler() {
            event.preventDefault();
        }
        //        点击文章小图 展示大图
        switchBigPhoto()
        function switchBigPhoto() {
            $('.userTextRight').click(function () {
//               每次点击自动跳转到第一张图
                mySwiper.slideTo(0, 1000, false);
//                大图展示的时候禁用滚动条
                $('body','html').css({'height':'100%','overflow':'hidden'})

                $('.bigPhotoShow').fadeIn('fast')
//                阻止移动端默认行为
                document.addEventListener('touchmove', handler, false);

            })
            $('.bigPhotoShow,.swiper06>.swiper-slide').click(function () {

                $('.bigPhotoShow').fadeOut('slow')
                //解绑默认行为
                document.removeEventListener('touchmove', handler, false);

//                大图消失使用滚动条
                $('body','html').css({'height':'100%','overflow':'visible'})
            })
//            mySwiper06 = null;
        }




        //切换关注
        switchFllow()
        function switchFllow() {
            $('.follow').click(function () {
//                alert('hello')
                $(this).css({'color':'#999999','width':'2.453333333333333rem','border':'1px solid #999'})
                $(this).find('img').attr({src:'../images/btn_Concern@2x.png'})
                $(this).find('.fllowTest').text('已关注')
            })
        }
    })
</script>
</body>
</html>